<!--header-->
<header class="header slider-fade">
    <div class="owl-carousel owl-theme">
        <!-- The opacity on the image is made with "data-overlay-dark="number". You can change it using the numbers 0-9. -->
        <div  class="text-center item bg-img" data-overlay-dark="2" [style.background-image]="'url(http://localhost:8089/CATEGORY-SERVICE/attractions/files/' + attractionByid?.photos[0] + ')'">
            <div class="v-middle caption">
                <div class="container">
                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <ng-template #t let-fill="fill">
                                <span class="starr" [class.full]="fill === 100">
                                    <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                                </span>
                            </ng-template>

                            <ngb-rating [max]="5" [starTemplate]="t" [(rate)]="averageRating" [readonly]="true">

                            </ngb-rating>
                            <h4>{{attractionByid?.location}} & meilleurs Attractions</h4>
                            <h1>{{attractionByid?.name}}</h1>
                            <div class="butn-light mt-30 mb-30"> <a href="#" data-scroll-nav="1"><span>Services &
                                        Loisirs</span></a> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- slider reservation -->
    <div class="reservation">
        <a href="tel:8551004444">
            <div class="icon d-flex justify-content-center align-items-center">
                <i class="flaticon-call"></i>
            </div>
            <div class="call"><span>52 01 64 23</span> <br>Reservation</div>
        </a>
    </div>
</header>
<!--end header-->


<section class="about section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-6 mb-30 animate-box" data-animate-effect="fadeInUp">
                <span>
                    <ng-template #t let-fill="fill">
                        <span class="starr" [class.full]="fill === 100">
                            <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                        </span>
                    </ng-template>

                    <ngb-rating [max]="5" [starTemplate]="t" [(rate)]="averageRating" [readonly]="true">

                    </ngb-rating>
                </span>
                <div class="section-subtitle">{{attractionByid?.name}}</div>
                <div class="section-title">Profitez d’une expérience immersive</div>
                <p>Bienvenue dans la meilleure attraction  au monde</p>
                <p>{{attractionByid?.description}}</p>
                <!-- call -->
                <div class="reservations">
                    <div class="icon"><span class="flaticon-call"></span></div>
                    <div class="text">
                        <p>Reservation</p> <a href="tel:855-100-4444">+216 56888777</a>
                    </div>
                </div>
            </div>
            <div class="col col-md-3 animate-box" data-animate-effect="fadeInUp">
                <img src="http://localhost:8089/CATEGORY-SERVICE/attractions/files/{{attractionByid?.photos[0]}}" alt=""
                    class="mt-90 mb-30">
            </div>
            <div class="col col-md-3 animate-box" data-animate-effect="fadeInUp">
                <img src="http://localhost:8089/CATEGORY-SERVICE/attractions/files/{{attractionByid?.photos[1]}}" alt="">
            </div>
        </div>
    </div>
</section>

<section class="" data-scroll-index="1">
    <div class="container">
        <!-- project content -->
        <div class="row">
            <div class="col-md-12">
                <span>
                    <ng-template #t let-fill="fill">
                        <span class="starr" [class.full]="fill === 100">
                            <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                        </span>
                    </ng-template>

                    <ngb-rating [max]="5" [starTemplate]="t" [(rate)]="averageRating" [readonly]="true">

                    </ngb-rating>
                </span>
                <div class="section-subtitle">{{attractionByid?.name}}</div>
                <div class="section-title">{{attractionByid?.location}}</div>
            </div>
            <div class="col-md-8">
                <p class="mb-30">{{attractionByid?.description}}</p>

                <div class="row">
                    <div class="col-md-6">
                        <h6>Opening Hours</h6>
                        <ul class="list-unstyled page-list mb-30">
                            <li>
                                <div class="page-list-icon"> <span class="ti-check"></span> </div>
                                <div class="page-list-text">
                                    <p>{{attractionByid?.opening_hour}}</p>
                                </div>
                            </li>

                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>Closing Hour</h6>
                        <ul class="list-unstyled page-list mb-30">
                            <li>
                                <div class="page-list-icon"> <span class="ti-check"></span> </div>
                                <div class="page-list-text">
                                    <p>{{attractionByid?.closing_hour}}</p>
                                </div>
                            </li>

                        </ul>
                    </div>
                  
                    <div class="col-md-12">
                        <h6>Pets</h6>
                        <p>Pets allowed</p>
                    </div>
                   
                    <div class="col-md-12">
                        <div class="butn-dark mt-15 mb-30"> <a href="rooms2.html"><span>Check Now</span></a> </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 offset-md-1">
                <h6>Services</h6>
                <ul class="list-unstyled page-list mb-30" >
                    <li>
                        <!-- <div class="page-list-icon"> <span class="flaticon-group"></span> </div>
                        <div class="page-list-text">
                            <p>1-2 Persons</p>
                            
                        </div> -->
                        
                    </li>
                  
                    <li *ngFor="let s of attractionByid?.services" >
                        <div class="page-list-icon" >  </div>
                        <div class="page-list-text">
                            <p> <img src="http://localhost:8089/CATEGORY-SERVICE/attractions/files/{{s?.logo}}" alt="" class="dynamic-image"> {{s?.name}}</p>
                        </div>
                    </li>
                    <div class="col-md-12">
                        <div class="butn-dark mt-15 mb-30" [routerLink]="['/details-service',attractionByid?.id]"   (click)="refreshPageWithDelay()"> <a ><span> More details</span></a> </div>
                    </div>
                   
                </ul>
            </div>
        </div>
    </div>
</section>

<section class="pricing section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="section-subtitle"><span>Best Prices</span></div>
                <div class="section-title">Extra Services</div>
                <p>The best prices for your relaxing vacation. The utanislen quam nestibulum ac quame odion elementum
                    sceisue the aucan.</p>
                <p>Orci varius natoque penatibus et magnis disney parturient monte nascete ridiculus mus nellen etesque
                    habitant morbine.</p>
                <div class="reservations mb-30">
                    <div class="icon"><span class="flaticon-call"></span></div>
                    <div class="text">
                        <p>For information</p> <a href="tel:855-100-4444">855 100 4444</a>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="owl-carousel owl-theme">
                    <div class="pricing-card">
                        <img src="assets/img/pricing/1.jpg" alt="">
                        <div class="desc">
                            <div class="name"></div>
                            <div class="amount">$50<span>/ month</span></div>
                            <ul class="list-unstyled list">
                                <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                            </ul>
                        </div>
                    </div>
                    <div class="pricing-card">
                        <img src="assets/img/pricing/2.jpg" alt="">
                        <div class="desc">
                            <div class="name">Drinks included</div>
                            <div class="amount">$30<span>/ daily</span></div>
                            <ul class="list-unstyled list">
                                <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                            </ul>
                        </div>
                    </div>
                    <div class="pricing-card">
                        <img src="assets/img/pricing/3.jpg" alt="">
                        <div class="desc">
                            <div class="name">Room Breakfast</div>
                            <div class="amount">$30<span>/ daily</span></div>
                            <ul class="list-unstyled list">
                                <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                            </ul>
                        </div>
                    </div>
                    <div class="pricing-card">
                        <img src="assets/img/pricing/4.jpg" alt="">
                        <div class="desc">
                            <div class="name">Safe & Secure</div>
                            <div class="amount">$15<span>/ daily</span></div>
                            <ul class="list-unstyled list">
                                <li><i class="ti-check"></i> Hotel ut nisan the duru</li>
                                <li><i class="ti-check"></i> Orci miss natoque vasa ince</li>
                                <li><i class="ti-close unavailable"></i>Clean sorem ipsum morbin</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Reservation & Booking Form -->
<section class="testimonials">
    <div class="background bg-img bg-fixed section-padding pb-0" data-background="assets/img/slider/2.jpg"
        data-overlay-dark="2">
        <div class="container">
            <div class="row">
                <!-- Reservation -->
                <div class="col-md-5 mb-30 mt-30">
                    <p><i class="star-rating"></i><i class="star-rating"></i><i class="star-rating"></i><i
                            class="star-rating"></i><i class="star-rating"></i></p>
                    <h5>Chacune de nos destinations a une offre spéciale.</h5>
                    <div class="reservations mb-30">
                        <div class="icon color-1"><span class="flaticon-call"></span></div>
                        <div class="text">
                            <p class="color-1">Reservation</p> <a class="color-1" href="tel:855-100-4444">+216 52 016
                                423</a>
                        </div>
                    </div>
                    <p><i class="ti-check"></i><small>Appelez-nous, c’est gratuit.</small></p>
                </div>
                <!-- Booking From -->
                <div class="col-md-5 offset-md-2">
                    <div class="booking-box">
                        <div class="head-box">
                            <h6>Attraction et services</h6>
                            <h4>   Reservation Attraction </h4>
                        </div>
                        <div class="booking-inner clearfix ">
                            <form [formGroup]="formreservation" action="https://duruthemes.com/demo/html/cappa/demo2-light/rooms2.html">
                                <div class="row">
                                  <div class="mb-3 pl-6">
                                    <div class="input1_wrapper">
                                      <label> debut le:</label>
                                      <div>
                                        <input [min]="getCurrentDate()" formControlName="date_debut" type="date" class="form-control input" placeholder="Check in">
                                        <div *ngIf="formreservation.get('date_debut').errors?.['required'] && formreservation.get('date_debut').touched" class="text-danger">
                                          La date de début est requise.
                                        </div>
                                        <div *ngIf="formreservation.get('date_debut').errors?.['invalidDate'] && formreservation.get('date_debut').touched" class="text-danger">
                                          La date de début doit être ultérieure à la date actuelle.
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-12">
                                    <div class="input1_wrapper">
                                      <label>Check out</label>
                                      <div>
                                        <input [min]="formreservation.get('date_debut').value" formControlName="date_fin" type="date" class="form-control input" placeholder="Check out">
                                        <div *ngIf="formreservation.get('date_fin').errors?.['required'] && formreservation.get('date_fin').touched" class="text-danger">
                                          La date de fin est requise.
                                        </div>
                                        <div *ngIf="formreservation.get('date_fin').errors?.['invalidEndDate'] && formreservation.get('date_fin').touched" class="text-danger">
                                          La date de fin doit être postérieure à la date de début.
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-12">
                                    <div class="select1_wrapper">
                                      <label>Services</label>
                                      <div class="select1_inner" style="position: relative;">
                                        <div (click)="toggleDropdown()" class="custom-select" style="width: 100%">
                                          {{ getSelectedServiceNames() || 'Select services' }}
                                        </div>
                                        <div *ngIf="dropdownOpen" class="dropdown-content">
                                          <div *ngFor="let s of attractionByid?.services" [class.selected]="isSelected(s.id)" class="dropdown-item">
                                            <input style="display: none;" type="checkbox" [id]="'service-' + s.id" [value]="s.id"
                                              (change)="toggleServiceSelection($event, s.id)" [checked]="isSelected(s.id)">
                                            <label [for]="'service-' + s.id">{{ s.name }}</label>
                                          </div>
                                        </div>
                                      </div>
                                      <div *ngIf="formreservation.get('services').touched && formreservation.get('services').errors?.['noServiceSelected']" class="text-danger">
                                        Au moins un service doit être sélectionné.
                                      </div>
                                    </div>
                                  </div>
                                 
                                  <div class="col-md-12">
                                    <button (click)="addReservation()" type="submit" class="btn-form1-submit mt-15">Reserver </button>
                                  </div>
                                </div>
                              </form>












                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<section class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-8">

                <div class="row">
                    <div class="col-md-6">
                        <img src="/assets/img/restaurant/1.jpg" class="mb-30" alt="">
                    </div>
                    <div class="col-md-6">
                        <img src="/assets/img/restaurant/3.jpg" class="mb-30" alt="">
                    </div>
                </div>
                <div class="post-comment-section">
                    <div class="row">
                        <!-- Comment -->
                        <div class="col-md-12">
                            <div class="news-post-comment-wrap"
                                *ngFor="let a of attractionByid?.comments.slice(0, displayedComments)">
                                <div class="post-user-comment"> <img src="http://localhost:8089/SECURITY-SERVICE/user/files/{{a.tourist?.image}}" alt=""> </div>
                                <div class="post-user-content">
                                    <span>
                                        <ng-template #t let-fill="fill">
                                            <span class="starr" [class.full]="fill === 100">
                                                <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                                            </span>
                                        </ng-template>

                                        <ngb-rating [max]="5" [starTemplate]="t" [(rate)]="a.avis"
                                            [readonly]="true">

                                        </ngb-rating>
                                    </span>
                                    <h3>{{a.tourist?.username}}<span> </span></h3>
                                    <p>{{ a?.content }}.</p>
                                   
                                </div>
                            </div>
                            <div *ngIf="attractionByid.comments.length > displayedComments">
                                <a type="submit" (click)="loadMoreComments()" class="post-repay see-more-link">See more
                                    comments <strong style="background-color: black; border-radius: 5px;">&nbsp;
                                        {{displayedComments}}/{{attractionByid?.comments.length}} &nbsp;</strong> </a>
                            </div>
                            <br><br>
                        </div>
                        <!-- Contact Form -->
                        <div class="col-md-8 mb-30" style="background-color: rgba(237, 237, 232, 0.24);">

                            <form [formGroup]="form" method="post" class="row">

                                <div class="form-group">
                                    <label for="avis"> Avis:</label>
                                    <ngb-rating formControlName="avis" id="avis" [(rate)]="avis" [max]="5"></ngb-rating>
                                </div>

                                <div>
                                     <textarea formControlName="content" name="content" id="content" cols="40" rows="4"
                                        placeholder="Your Comment *" required=""></textarea>
                                </div>
                                <div class="col-md-12">
                                    <button (click)="addAverageRating()" type="submit" class="butn-dark2"><span>
                                            Commenter</span></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sidebar -->

        </div>
    </div>
</section>











